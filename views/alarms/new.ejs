<% include ../partials/header %>
  <div class="ui container space">
    <% if(error && error.length > 0){ %>
      <div class="ui error message">
        <%= error %>
      </div>
      <% } %>
        <% if(success && success.length > 0){ %>
          <div class="ui success message">
            <%= success %>
          </div>
          <% } %>
    <h1 class="ui center aligned header">New Alarm in <%= house.name %></h1>
    <form class="ui form" action="/houses/<%= house._id %>/alarms" method="POST">
      <div class="ui inline fields">
        <div class="eight wide field">
          <label>Name</label>
          <input type="text" name="alarm[name]" placeholder="name" required>
        </div>
        <div class="four wide field">
          <label>Minute</label>
          <input type="number" name="alarm[minute]" placeholder="minute" min="0" max="59" required>
        </div>
        <div class="four wide field">
          <label>Hour</label>
          <input type="number" name="alarm[hour]" placeholder="hour" min="0" max="24" required>
        </div>
      </div>
        <p>Days of the week:</p>
        <% days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'] %>
          <% nDays = [0,1,2,3,4,5,6,] %>
            <% nDays.forEach(function(i) {%>
              <div class="inline field">
                <div class="ui toggle checkbox">
                  <input type="checkbox" name="dow[i]" value="<%= i %>">
                  <label><%= days[i] %></label>
                </div>
              </div>
              <% }) %>
        <p>Hosts:</p>
        <% house.hosts.forEach(function(host) {%>
          <div class="inline field">
            <div class="ui toggle checkbox">
          <input type="checkbox" name="alarm[hosts]" value="<%= host.id %>">
          <label><%= host.name %></label>
          </div>
        </div>
        <% }) %>
      <button class="ui submit button" type="submit">Submit</button>
    </form>
  </div>
  <script>
    $('.ui.checkbox')
      .checkbox();
  </script>
  <% include ../partials/footer %>
